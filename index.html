<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Application de lecture moderne pour La Voie du Salut avec mode sombre, zoom, favoris, lecture vocale, traduction et assistant IA">
    <meta name="theme-color" content="#1e3a8a">
    <title>La Voie du Salut</title>
    <link rel="icon" href="book-icon.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <header>
        <nav class="left-nav">
            <button id="home-btn" title="Accueil">üè†</button>
            <button id="menu-btn" title="Sommaire">‚ò∞</button>
        </nav>
        <div class="header-content">
            <h1>La Voie du Salut</h1>
            <img src="book-cover.jpg" alt="Couverture du livre" class="header-book">
        </div>
        <nav class="right-nav">
            <button id="theme-toggle" title="Mode sombre/clair">
                <span class="icon">üåô</span>
            </button>
            <button id="voice-toggle" title="Lecture vocale">
                <span class="icon">üîä</span>
            </button>
            <select id="voice-select" title="Choisir une voix"></select>
            <button id="language-toggle" title="Changer de langue">
                <span class="icon">üåê</span>
            </button>
            <button id="favorites-btn" title="Voir les favoris">‚≠ê</button>
            <button id="profile-btn" title="Profil">
                <span class="icon">üë§</span>
                <span id="user-status" class="user-status"></span>
            </button>
        </nav>
    </header>

    <main>
        <!-- Page d'accueil -->
        <section id="home" class="active">
            <div class="home-content">
                <div class="home-text">
                    <h2>Bienvenue dans La Voie du Salut</h2>
                    <p>Plongez dans une ≈ìuvre spirituelle et inspirante qui guide l‚Äô√¢me vers la lumi√®re et la v√©rit√©...</p>
                    <button id="start-btn">Commencer</button>
                </div>
                <img src="book-cover.jpg" alt="Couverture du livre" class="book-cover">
            </div>
        </section>

        <!-- Sommaire -->
        <section id="table-of-contents" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <h2>Sommaire</h2>
            <ul id="chapter-list">
                <li><a href="#preamble">Pr√©ambule</a></li>
                <li><a href="#foreword">Avant-propos</a></li>
                <li><a href="#chapter1">Chapitre 1 : Le Chemin de la Lumi√®re</a></li>
                <li><a href="#chapter2">Chapitre 2 : Les √âpreuves de l‚Äô√Çme</a></li>
                <li><a href="#chapter3">Chapitre 3 : La Qu√™te de la V√©rit√©</a></li>
                <li><a href="#chapter4">Chapitre 4 : L‚ÄôAppel Int√©rieur</a></li>
                <!-- ... Ajouter dynamiquement les autres chapitres dans script.js ... -->
                <li><a href="#chapter42">Chapitre 42 : La Paix √âternelle</a></li>
            </ul>
        </section>

        <!-- Pr√©ambule -->
        <section id="preamble" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Pr√©ambule</h2>
                <span class="favorite" data-chapter="preamble" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn" disabled>‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Avant-propos -->
        <section id="foreword" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Avant-propos</h2>
                <span class="favorite" data-chapter="foreword" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Chapitre 1 -->
        <section id="chapter1" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Chapitre 1 : Le Chemin de la Lumi√®re</h2>
                <span class="favorite" data-chapter="chapter1" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Chapitre 2 -->
        <section id="chapter2" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Chapitre 2 : Les √âpreuves de l‚Äô√Çme</h2>
                <span class="favorite" data-chapter="chapter2" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Chapitre 3 -->
        <section id="chapter3" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Chapitre 3 : La Qu√™te de la V√©rit√©</h2>
                <span class="favorite" data-chapter="chapter3" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Chapitre 4 -->
        <section id="chapter4" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Chapitre 4 : L‚ÄôAppel Int√©rieur</h2>
                <span class="favorite" data-chapter="chapter4" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Placeholder pour les autres chapitres -->
        <!-- Les sections des chapitres 5 √† 42 sont ajout√©es dynamiquement dans script.js -->

        <!-- Chapitre 42 -->
        <section id="chapter42" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <div class="chapter-header">
                <h2>Chapitre 42 : La Paix √âternelle</h2>
                <span class="favorite" data-chapter="chapter42" title="Ajouter aux favoris">‚≠ê</span>
            </div>
            <div class="content" data-lang="fr"></div>
            <div class="content" data-lang="en" style="display: none;"></div>
            <div class="content" data-lang="ar" style="display: none;"></div>
            <div class="chapter-nav">
                <button class="prev-btn">‚Üê Pr√©c√©dent</button>
                <button class="next-btn" disabled>Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Page des favoris -->
        <section id="favorites" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <h2>Vos Chapitres Favoris</h2>
            <ul id="favorites-list"></ul>
        </section>

        <!-- Page de profil -->
        <section id="profile" class="chapter">
            <button class="close-btn" title="Retour √† l'accueil">‚úñ</button>
            <h2>Profil</h2>
            <div class="profile-content">
                <h3>Compte</h3>
                <div id="user-info" style="display: none;">
                    <p><strong>Nom :</strong> <span id="user-name"></span></p>
                    <p><strong>E-mail :</strong> <span id="user-email"></span></p>
                    <button id="sign-out-btn">D√©connexion</button>
                </div>
                <div id="auth-forms">
                    <h4>Connexion</h4>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="login-email">E-mail :</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">Mot de passe :</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit">Se connecter</button>
                        <p><a href="#" id="reset-password">Mot de passe oubli√© ?</a></p>
                    </form>
                    <h4>Inscription</h4>
                    <form id="signup-form">
                        <div class="form-group">
                            <label for="signup-name">Nom :</label>
                            <input type="text" id="signup-name" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-email">E-mail :</label>
                            <input type="email" id="signup-email" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-password">Mot de passe :</label>
                            <input type="password" id="signup-password" required>
                        </div>
                        <button type="submit">S'inscrire</button>
                    </form>
                </div>
                <p id="auth-error" style="color: red;"></p>
                <h3>Param√®tres</h3>
                <div class="setting">
                    <label for="profile-language">Langue :</label>
                    <select id="profile-language">
                        <option value="fr">Fran√ßais</option>
                        <option value="en">English</option>
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    </select>
                </div>
                <div class="setting">
                    <label for="profile-theme">Mode sombre :</label>
                    <input type="checkbox" id="profile-theme">
                </div>
                <div class="setting">
                    <label for="profile-font-size">Taille de la police :</label>
                    <input type="range" id="profile-font-size" min="12" max="24" value="16">
                    <span id="font-size-value">16px</span>
                </div>
                <div class="setting">
                    <label for="profile-volume">Volume de la lecture vocale :</label>
                    <input type="range" id="profile-volume" min="0" max="100" value="100">
                    <span id="volume-value">100%</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Bouton flottant de chat -->
    <button id="chat-btn" title="Assistant IA">üí¨</button>

    <!-- Modal de chat -->
    <div id="chat-modal" style="display: none;">
        <div class="chat-content">
            <h3>Assistant du Livre</h3>
            <button class="chat-close-btn" title="Fermer">‚úñ</button>
            <div id="chat-history"></div>
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Posez une question sur le livre...">
                <button id="chat-send-btn">Envoyer</button>
                <button id="chat-clear-btn" title="Effacer l'historique">üóëÔ∏è</button>
            </div>
        </div>
    </div>

    <script src="firebase.js"></script>
    <script src="content.js"></script>
    <script src="script.js"></script>
</body>
</html>
